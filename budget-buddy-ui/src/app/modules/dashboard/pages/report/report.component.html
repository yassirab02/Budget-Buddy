<div *ngIf="isLoading; else reportContent" class="flex justify-center items-center h-screen">
  <app-spinner class="w-16 h-16"></app-spinner>
</div>

<ng-template class="bg-gradient-to-br from-green-50 to-white min-h-screen p-4 md:p-8" #reportContent>
  <div class="max-w-6xl mx-auto">
    <h1 class="text-3xl md:text-4xl font-bold mb-6 text-green-800">Financial Reports</h1>

    <hr class="p-4">

    <div class="mb-6 flex space-x-4">
      <button class="w-1/2 px-4 py-2 bg-green-600 text-white rounded-md font-semibold">Monthly Reports</button>
      <button class="w-1/2 px-4 py-2 bg-white text-green-600 border border-green-600 rounded-md font-semibold">Yearly Reports</button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-16">
      <!-- Loop over Monthly Reports -->
      <div *ngFor="let report of monthlyReports" class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="p-4">
          <div class="flex justify-between items-center mb-2">
            <span class="text-lg font-semibold">Monthly Report</span>
            <span class="text-sm font-normal text-gray-500 flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              {{ report.year }} - {{ report.month }}
            </span>
          </div>
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
              <p class="text-sm text-gray-500 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                  <polyline points="17 6 23 6 23 12"></polyline>
                </svg>
                Income
              </p>
              <p class="text-lg font-semibold text-green-600">${{ report.totalIncome }}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
                  <polyline points="17 18 23 18 23 12"></polyline>
                </svg>
                Expenses
              </p>
              <p class="text-lg font-semibold text-red-600">${{ report.totalExpenses }}</p>
            </div>
          </div>
          <div class="mb-4">
            <p class="text-sm text-gray-500 flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
              Balance
            </p>
            <p class="text-lg font-semibold text-blue-600">${{ report.balance }}</p>
          </div>
          <a [routerLink]="['/financial-report', report.id]" class="block w-full bg-green-600 text-white text-center py-2 px-4 rounded hover:bg-green-700 transition duration-300">View Full Report</a>
        </div>
      </div>

      <!-- Loop over Yearly Reports -->
      <div *ngFor="let report of yearlyReports" class="bg-white rounded-lg shadow-md overflow-hidden">
        <div class="p-4">
          <div class="flex justify-between items-center mb-2">
            <span class="text-lg font-semibold">Yearly Report</span>
            <span class="text-sm font-normal text-gray-500 flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              {{ report.year }}
            </span>
          </div>
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div>
              <p class="text-sm text-gray-500 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                  <polyline points="17 6 23 6 23 12"></polyline>
                </svg>
                Income
              </p>
              <p class="text-lg font-semibold text-green-600">${{ report.totalIncome }}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
                  <polyline points="17 18 23 18 23 12"></polyline>
                </svg>
                Expenses
              </p>
              <p class="text-lg font-semibold text-red-600">${{ report.totalExpenses }}</p>
            </div>
          </div>
          <div class="mb-4">
            <p class="text-sm text-gray-500 flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
              Balance
            </p>
            <p class="text-lg font-semibold text-blue-600">${{ report.balance }}</p>
          </div>
          <a [routerLink]="['/financial-report', report.id]" class="block w-full bg-green-600 text-white text-center py-2 px-4 rounded hover:bg-green-700 transition duration-300">View Full Report</a>
        </div>
      </div>
    </div>
  </div>
</ng-template>
